<ng-progress [thick]="true" color="red" [spinner]="false"></ng-progress>

<nav class="navbar sticky-top navbar-expand-md header navbar-dark">
  <div class="nav-item">
    <a class="nav-link text-light font-weight-bold text-hover" [routerLink]="['/home']">D&D Buddy</a>
  </div>

  <button class="navbar-toggler hidden-sm-up" type="button" (click)="isNavbarCollapsed = !isNavbarCollapsed" aria-controls="navbarSupportedContent"
    [attr.aria-expanded]="!isNavbarCollapsed" aria-label="Toggle Navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- Inside navbar content here -->
  <div [ngbCollapse]="isNavbarCollapsed" class="collapse navbar-collapse" id="navbarSupportedContent" *ngIf="this.isLoggedIn()">
    <div class="nav-item pl-sm-3 pl-md-0 pl-3">
      <div ngbDropdown placement="bottom-left">
        <div class="text-light text-hover" ngbDropdownToggle>Manage</div>
        <div ngbDropdownMenu>
          <a class="dropdown-item" [routerLink]="['/manageCharacter']" (click)="isNavbarCollapsed = !isNavbarCollapsed">Player Portal</a>
          <a class="dropdown-item" [routerLink]="['/dmPortal']" (click)="isNavbarCollapsed = !isNavbarCollapsed">DM Portal</a>
        </div>
      </div>
    </div>
    <div class="nav-item pl-sm-3 pl-3">
      <div ngbDropdown placement="bottom-left">
        <div class="text-light text-hover" ngbDropdownToggle>Create</div>
        <div ngbDropdownMenu>
          <a class="dropdown-item" [routerLink]="['/createCharacter']" (click)="isNavbarCollapsed = !isNavbarCollapsed">Create Character</a>
          <a class="dropdown-item" [routerLink]="['/characterRaceDetails']" (click)="isNavbarCollapsed = !isNavbarCollapsed">Classes and Races</a>
        </div>
      </div>
    </div>
    <div class="nav-item">
      <a class="nav-link text-light text-hover" [routerLink]="['/game']" (click)="isNavbarCollapsed = !isNavbarCollapsed">Games</a>
    </div>
    <div class="nav-item pl-sm-1 pl-3">
      <div ngbDropdown placement="bottom-left">
        <div class="text-light text-hover" ngbDropdownToggle>Help</div>
        <div ngbDropdownMenu>
          <a class="dropdown-item" [routerLink]="['/help-game']" (click)="isNavbarCollapsed = !isNavbarCollapsed">Game Info</a>
          <a class="dropdown-item" [routerLink]="['/help-faq']" (click)="isNavbarCollapsed = !isNavbarCollapsed">FAQ</a>
        </div>
      </div>
    </div>

  </div>

  <!-- Content always outside of the collapse -->
  <div class="nav-item ml-auto no-padding" style="margin: 0" *ngIf="this.isLoggedIn()">
    <div ngbDropdown placement="bottom-right" *ngIf="this.getUser()">
      <h6 class="font-weight-bold text-light text-hover" ngbDropdownToggle>{{ this.getUser().username }}</h6>
      <div ngbDropdownMenu>
        <button class="dropdown-item" [routerLink]="['/profile']">Profile</button>
        <button class="dropdown-item " [routerLink]="['/login']" (click)="this.logout()">Logout</button>
      </div>
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <router-outlet></router-outlet>
    </div>
  </div>
  <app-snackbar></app-snackbar>
</div>